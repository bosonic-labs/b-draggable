<element name="b-draggable">
    <style>
        :host {
            position: relative;
        }
    </style>
    <script>
        ({
            createdCallback: function() {
                this.startListener = this.start.bind(this);
                this.addEventListener('mousedown', this.startListener, false);
            },

            start: function(e) {
                e.preventDefault();
                this.refreshPreviousPosition(e);
                this.moveListener = this.move.bind(this);
                this.stopListener = this.stop.bind(this);
                document.addEventListener('mousemove', this.moveListener, false);
                document.addEventListener('mouseup', this.stopListener, false);
            },

            move: function(e) {
                var diff = this.getPositionDiff(e);

                this.updatePosition('left', diff.x);
                this.updatePosition('top', diff.y);

                this.refreshPreviousPosition(e);
            },

            stop: function(e) {
                document.removeEventListener('mousemove', this.moveListener, false);
                document.removeEventListener('mouseup', this.stopListener, false);
            },

            refreshPreviousPosition: function(e) {
                this.previousPosition = { x: e.pageX, y: e.pageY };
            },

            getPositionDiff: function(e) {
                var x = e.pageX,
                    y = e.pageY,
                    xdiff = x - this.previousPosition.x,
                    ydiff = y - this.previousPosition.y;
                return { x: xdiff, y: ydiff };
            },

            getPosition: function(side) {
                var position = this.style[side];
                return position ? parseInt(position.replace('px', '')) : 0;
            },

            setPosition: function(side, value) {
                this.style[side] = value + 'px';
            },

            updatePosition: function(side, diff) {
                var currentPos = this.getPosition(side);
                this.setPosition(side, currentPos + diff);
            }
        });
    </script>
</element>